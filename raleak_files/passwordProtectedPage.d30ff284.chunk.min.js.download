(window.webpackJsonp__wix_thunderbolt_app=window.webpackJsonp__wix_thunderbolt_app||[]).push([[78],{281:function(e,t,n){"use strict";n.r(t),n.d(t,"site",(function(){return b})),n.d(t,"PasswordProtectedPageApiSymbol",(function(){return d.b}));var o=n(0),r=n(23),i=n(398),u=n(390),a=n(214),c=n(132),s=n(399),d=n(249),p=Object(r.h)([i.b,i.d,u.a,Object(r.f)(a.e,d.c),c.p,s.a],(function(e,t,n,r,i,u){var a=i.site,c=a.siteRevision,s=a.metaSiteId,p=a.siteId,l=r.protectedPageResolverUrl+"?siteRevision="+c,b=null,f=!1,v=function(){t.removeComponentFromDynamicStructure(d.a)},m=function(e,t){return Object(o.b)(void 0,void 0,void 0,(function(){var r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return r={password:t,pageId:e,metaSiteId:s,siteId:p},[4,n.envFetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})];case 1:return[4,o.sent().json()];case 2:return[2,o.sent()]}}))}))},w=function(n){var o;e.update(((o={})[d.a]=n,o)),t.addComponentToDynamicStructure(d.a,{componentType:"EnterPasswordDialog",components:[]})};return{appDidMount:function(){b&&(w(b),b=null),f=!0},promptPasswordDialog:function(t){return new Promise((function(n){return Object(o.b)(void 0,void 0,void 0,(function(){var i,a,c;return Object(o.d)(this,(function(s){return v(),i=!u.getCurrentRouteInfo(),a=r.homePageId===t,c={errorCode:0,isCloseable:!i||!a,onCloseDialogCallback:function(){v(),i&&n({})},onSubmitCallback:function(r){return Object(o.b)(void 0,void 0,void 0,(function(){var i,u,a,c,s;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,m(t,r)];case 1:return(i=o.sent()).errorCode?e.update(((c={})[d.a]={errorCode:i.errorCode},c)):(u=i.payload.urls[0],a=function(e){return(e.split("/").pop()||"").split(".")[0]}(u),v(),n(((s={})[t]=a,s))),[2]}}))}))}},i&&!f?b=c:w(c),[2]}))}))}))}}})),l=n(397),b=function(e){e(l.a.AppDidMountHandler,d.b).to(p)}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/passwordProtectedPage.d30ff284.chunk.min.js.map